#!/bin/sh
# Simple script to regenerate the README.benchmarks file.
# 
# Â© 2008 David Given.
# Clue is licensed under the Revised BSD open source license. To get the
# full license text, see the README file.
#
# $Id$
# $HeadURL$
# $LastChangedDate: 2008-07-08 13:46:21 +0100 (Tue, 08 Jul 2008) $

set -e


cat << EOF
These are the benchmark results that are produced by my computer.

The Computer Language Benchmark Game benchmarks. These should be considered
unit tests only --- the numbers are not indicative of anything in particular.
The time column indicates the absolute time in seconds; the comparison
factor indicates the time taken as a multiple of the time gcc took. So
1 means the same time, 2 means twice as long, etc. Times include working time
only, and not load and startup time, which would be considerable for some
targets (such as c, which involves compiling the target program with gcc).


---snip---
EOF

./run-benchmarks

cat << EOF
---snip---


The Whetstone benchmark:

This is run against each target, and the results included below.

gcc:

---snip---
EOF

gcc -Os test/whetstone.c -o /tmp/benchmark -lm
/tmp/benchmark

cat << EOF
---snip---

C via Clue:

---snip---
EOF

bin/clue -mc test/whetstone.c > /tmp/benchmark.c
./cluerun -e c -f /tmp/benchmark.c

cat << EOF
---snip---

Java:

---snip---
EOF

bin/clue -mjava test/whetstone.c > /tmp/benchmark.j
./cluerun -e java -f /tmp/benchmark.j

cat << EOF
---snip---

LuaJIT:

---snip---
EOF

./bin/clue -mlua test/whetstone.c > /tmp/benchmark.lua
./cluerun -e luajit -f /tmp/benchmark.lua

cat << EOF
---snip---

Lua interpreter:

---snip---
EOF

./bin/clue -mlua test/whetstone.c > /tmp/benchmark.lua
./cluerun -e lua -f /tmp/benchmark.lua

cat << EOF
---snip---

SpiderMonkey:

--snip---
EOF

bin/clue -mjs test/whetstone.c > /tmp/benchmark.js
./cluerun -e smjs -f /tmp/benchmark.js

cat << EOF
---snip---

Perl 5:

---snip---
EOF

bin/clue -mperl5 test/whetstone.c > /tmp/benchmark.pl
./cluerun -e perl5 -f /tmp/benchmark.pl

cat << EOF
---snip---

# \$Id: README.benchmarks 7 2008-07-10 22:17:44Z dtrg \$
# \$HeadURL: https://cluecc.svn.sourceforge.net/svnroot/cluecc/clue/README.benchmarks \$
# \$LastChangedDate: 2008-07-10 23:17:44 +0100 (Thu, 10 Jul 2008) \$
EOF
